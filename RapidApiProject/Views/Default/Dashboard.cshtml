@model List<Note>

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Görev/Not Uygulaması</title>
    <link rel="stylesheet" href="/css/emu.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="movie-list">
        <div class="container">
            <header class="app-header">
                <h1 id="appTitle">Yapılacaklar & Notlar</h1>
            </header>

            <main class="content-area">
                <div class="task-list-section">
                    <ul class="task-list" id="taskList">
                        @* NOT LİSTESİ BURADA DÖNGÜ İLE OLUŞTURULACAK *@
                        @if (Model != null && Model.Any())
                        {
                            var counter = 1;
                            foreach (var item in Model)
                            {
                                // Sadece ilk öğe varsayılan olarak "active" olacak
                                <li class="task-item @(counter == 1 ? "active" : "")" data-id="@item.NoteID">
                                    <span class="task-number">@counter</span>
                                    <span class="task-text">@item.NoteTitle</span>
                                    <input type="hidden" class="note-description-data" value="@item.NoteDescription" />
                                </li>
                                counter++;
                            }
                        }
                        else
                        {
                            <li class="task-item no-tasks">
                                <span class="task-text">Henüz görev yok.</span>
                            </li>
                        }

                        @* Butonlar li öğesi dışında, sabit bir şekilde burada kalacak *@
                        <li class="task-list-buttons-container">
                            @* Yeni eklenen li class'ı *@
                            <button id="addNewTaskBtn" class="action-button add-button"><i class="fas fa-plus"></i></button>
                            <button id="editActiveTaskBtn" class="action-button edit-task-list-button"><i class="fas fa-edit"></i></button>
                            <button id="deleteActiveTaskBtn" class="action-button delete-button"><i class="fas fa-trash"></i></button> @* Sil butonu ekledim *@
                        </li>
                    </ul>

                    @* Sub-tasks kısmı, eğer dinamik değilse sabit kalabilir *@
                    <div class="sub-tasks">
                        <div class="sub-task-item">
                            <input type="checkbox" id="subTask1" checked>
                            <label for="subTask1">iş bir</label>
                        </div>
                        <div class="sub-task-item">
                            <input type="checkbox" id="subTask2">
                            <label for="subTask2">iş iki</label>
                        </div>
                        <div class="sub-task-item">
                            <input type="checkbox" id="subTask3">
                            <label for="subTask3">iş üç</label>
                        </div>
                    </div>
                </div>

                <div class="note-section">
                    <div class="note-header">
                        <h2 id="noteTitle">NOT KISMI</h2>
                        <span class="date-display" id="currentDate">TARİH: @(Model != null && Model.Any() ? Model.First().NoteDate.ToString("yyyy-MM-dd") : DateTime.Now.ToString("yyyy-MM-dd"))</span>
                    </div>
                    <textarea class="note-textarea" id="noteContent" placeholder="Buraya notunuzu yazın...">@(Model != null && Model.Any() ? Model.First().NoteDescription : "")</textarea>
                </div>
            </main>

            <footer class="app-footer">
                <p>eMu &copy; 2025 <a target="_blank">emu linkedin!</a></p>
            </footer>
        </div>
    </div>
    <script src="/js/script.js"></script>
</body>
</html>